version: 0.2
env:
  variables:
    build_version: "0.1"
phases:
  install:
    runtime-versions:
      java: openjdk8
    commands:
      - echo Entering install phase...
      - wget https://jcenter.bintray.com/org/apache/maven/apache-maven/3.3.9/apache-maven-3.3.9-bin.tar.gz 
      - tar xzvf apache-maven-3.3.9-bin.tar.gz -C /opt/
      - export PATH=/opt/apache-maven-3.3.9/bin:$PATH
      - wget https://dl.bintray.com/jfrog/jfrog-cli-go/1.12.1/jfrog-cli-linux-amd64/jfrog
      - chmod +x jfrog
  pre_build:
    commands:
      - echo Entering pre_build phase...
  build:
    commands:
      - echo Entering build phase...
      - echo Build started on `date`
      - mvn  compile
      - mvn  package
  post_build:
    commands:
      - echo Entering post_build phase...
      - echo Build completed on `date`
artifacts:
  type: zip
  files:
    - 'target/ROOT.war'
